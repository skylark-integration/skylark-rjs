/**
 * skylark-rjs - A version of rjs that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
var requirejs,require,define,xpcUtil;!function(console,args,readFileFunc){var fileName,env,fs,vm,path,exec,rhinoContext,dir,nodeRequire,nodeDefine,exists,reqMain,loadedOptimizedLib,existsForNode,Cc,Ci,version="2.3.6",jsSuffixRegExp=/\.js$/,commandOption="",useLibLoaded={},rhinoArgs=args,xpconnectArgs=args,readFile=void 0!==readFileFunc?readFileFunc:null;function showHelp(){console.log("See https://github.com/requirejs/r.js for usage.")}function loadLib(){}function setBaseUrl(e){-1!==(dir=e.replace(/\\/g,"/")).indexOf("/")&&((dir=dir.split("/")).pop(),dir=dir.join("/"),exec("require({baseUrl: '"+dir.replace(/[\\"']/g,"\\$&")+"'});"))}function createRjsApi(){requirejs.optimize=function(e,i,n){loadedOptimizedLib||(loadLib(),loadedOptimizedLib=!0);requirejs({context:"build"},["build","logger","env!env/quit"],function(r,o,t){function s(e){if(requirejs._buildReset&&(requirejs._buildReset(),requirejs._cacheReset()),e instanceof Error)throw e;return e}e.logLevel=e.hasOwnProperty("logLevel")?e.logLevel:o.SILENT,requirejs._buildReset&&(requirejs._buildReset(),requirejs._cacheReset()),n=n||function(e){console.log(e),t(1)},r(e).then(s,s).then(i,n)})},requirejs.tools={useLib:function(e,i){i||(i=e,e="uselib"),useLibLoaded[e]||(loadLib(),useLibLoaded[e]=!0);var n=requirejs({context:e});n(["build"],function(){i(n)})}},requirejs.define=define}"undefined"!=typeof process&&process.versions&&process.versions.node?(env="node",fs=require("fs"),vm=require("vm"),path=require("path"),existsForNode=fs.existsSync||path.existsSync,nodeRequire=require,nodeDefine=define,reqMain=require.main,require=void 0,define=void 0,readFile=function(e){return fs.readFileSync(e,"utf8")},exec=function(e,i){return vm.runInThisContext(this.requirejsVars.require.makeNodeWrapper(e),i?fs.realpathSync(i):"")},exists=function(e){return existsForNode(e)},fileName=process.argv[2],fileName&&0===fileName.indexOf("-")&&(commandOption=fileName.substring(1),fileName=process.argv[3])):"undefined"!=typeof Packages?(env="rhino",fileName=args[0],fileName&&0===fileName.indexOf("-")&&(commandOption=fileName.substring(1),fileName=args[1]),"undefined"!=typeof importPackage?(rhinoContext=Packages.org.mozilla.javascript.ContextFactory.getGlobal().enterContext(),exec=function(e,i){return rhinoContext.evaluateString(this,e,i,0,null)}):(exec=function(e,i){load({script:e,name:i})},readFile=readFully),exists=function(e){return new java.io.File(e).exists()},void 0===console&&(console={log:function(){print.apply(void 0,arguments)}})):"undefined"!=typeof navigator&&"undefined"!=typeof document||"undefined"!=typeof importScripts&&"undefined"!=typeof self?(env="browser",readFile=function(e){return fs.readFileSync(e,"utf8")},exec=function(string){return eval(string)},exists=function(){return console.log("x.js exists not applicable in browser env"),!1}):"undefined"!=typeof Components&&Components.classes&&Components.interfaces&&(env="xpconnect",Components.utils.import("resource://gre/modules/FileUtils.jsm"),Cc=Components.classes,Ci=Components.interfaces,fileName=args[0],fileName&&0===fileName.indexOf("-")&&(commandOption=fileName.substring(1),fileName=args[1]),xpcUtil={isWindows:"@mozilla.org/windows-registry-key;1"in Cc,cwd:function(){return FileUtils.getFile("CurWorkD",[]).path},normalize:function(e){var i,n,r,o=e.charAt(0);for("/"!==o&&"\\"!==o&&-1===e.indexOf(":")&&(e=xpcUtil.cwd()+"/"+e),r=e.replace(/\\/g,"/").split("/"),i=0;i<r.length;i+=1)"."===(n=r[i])?(r.splice(i,1),i-=1):".."===n&&(r.splice(i-1,2),i-=2);return r.join("/")},xpfile:function(e){var i;try{return i=xpcUtil.normalize(e),xpcUtil.isWindows&&(i=i.replace(/\//g,"\\")),new FileUtils.File(i)}catch(n){throw new Error((i||e)+" failed: "+n)}},readFile:function(e,i){i=i||"utf-8";var n,r,o={},t=xpcUtil.xpfile(e);try{return(n=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream)).init(t,1,0,!1),(r=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream)).init(n,i,n.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),o),o.value}catch(e){throw new Error((t&&t.path||"")+": "+e)}finally{r&&r.close(),n&&n.close()}}},readFile=xpcUtil.readFile,exec=function(string){return eval(string)},exists=function(e){return xpcUtil.xpfile(e).exists()},void 0===console&&(console={log:function(){print.apply(void 0,arguments)}})),this.requirejsVars={require:require,requirejs:require,define:define},"browser"===env||"rhino"===env||"node"===env&&(this.requirejsVars.nodeRequire=nodeRequire,require.nodeRequire=nodeRequire),"o"===commandOption||fileName&&jsSuffixRegExp.test(fileName)||(fileName="main.js"),"node"===env&&reqMain!==module?(setBaseUrl(path.resolve(reqMain?reqMain.filename:".")),createRjsApi(),module.exports=requirejs):"browser"===env?(setBaseUrl(location.href),createRjsApi()):"rhino"!==env&&"xpconnect"!==env||"undefined"==typeof requirejsAsLib||!requirejsAsLib?"o"===commandOption?loadLib():"v"===commandOption?console.log("r.js: "+version+", RequireJS: "+this.requirejsVars.require.version+", UglifyJS: 2.8.29"):"convert"===commandOption?(loadLib(),this.requirejsVars.require(["env!env/args","commonJs","env!env/print"],function(e,i,n){var r,o;r=e[0],o=e[1],r&&o?i.convertDir(e[0],e[1]):n("Usage: path/to/commonjs/modules output/dir")})):("lib"===commandOption&&loadLib(),setBaseUrl(fileName),exists(fileName)?exec(readFile(fileName),fileName):showHelp()):(setBaseUrl(fileName),createRjsApi())}("undefined"!=typeof console?console:void 0,"undefined"!=typeof Packages||"undefined"==typeof window&&"undefined"!=typeof Components&&Components.interfaces?Array.prototype.slice.call(arguments,0):[],"undefined"!=typeof readFile?readFile:void 0);
//# sourceMappingURL=sourcemaps/x.js.map
